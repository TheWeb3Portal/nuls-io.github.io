<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>NULS</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://nuls-io.github.io/contract/index.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://nuls-io.github.io/contract/index.html">
    
      <link rel="alternative" hreflang="zh-cn" href="https://nuls-io.github.io/zh-cn/contract/index.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <meta name="generator" content="Hexo 3.8.0">
  <!-- CSS -->
  <!-- build:css build/css/nuls.css -->
  <link rel="stylesheet" href="/css/nuls.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="NULS">
</head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">Hexo</a>
    </h1>
    <nav id="main-nav">
      <a href="/docs/" class="main-nav-link">Documents</a><a href="/protocol/" class="main-nav-link">Protocol</a><a href="/contract/" class="main-nav-link">Smart Contract</a><a href="/chain/" class="main-nav-link">Cross-Chain</a><a href="/manual/" class="main-nav-link">Manual</a><a href="/news/" class="main-nav-link">News</a>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>English</span></label>
      <select id="lang-select" data-canonical="contract/index.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope="" itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name"></h1>
                <a href="https://github.com/nuls-io/devsite/edit/master/source/contract/index.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="NULS-Smart-Contract-Development-Manual" class="article-heading"><a href="#NULS-Smart-Contract-Development-Manual" class="headerlink" title="NULS Smart Contract Development Manual"></a>NULS Smart Contract Development Manual<a class="article-anchor" href="#NULS-Smart-Contract-Development-Manual" aria-hidden="true"></a></h1><h2 id="1-Introduction" class="article-heading"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction<a class="article-anchor" href="#1-Introduction" aria-hidden="true"></a></h2><p>NULS smart contract is developed with Java, and it operates in NULS virtual machine. Not all Java features are applicable to contract development and the relevant restrictions are specified in section 3.</p>
<h2 id="2-Development-environment" class="article-heading"><a href="#2-Development-environment" class="headerlink" title="2. Development environment"></a>2. Development environment<a class="article-anchor" href="#2-Development-environment" aria-hidden="true"></a></h2><h3 id="2-1-Setup-of-NULS-wallet" class="article-heading"><a href="#2-1-Setup-of-NULS-wallet" class="headerlink" title="2.1 Setup of NULS wallet"></a>2.1 Setup of NULS wallet<a class="article-anchor" href="#2-1-Setup-of-NULS-wallet" aria-hidden="true"></a></h3><h3 id="2-2-Setup-of-JDK-8" class="article-heading"><a href="#2-2-Setup-of-JDK-8" class="headerlink" title="2.2 Setup of JDK 8"></a>2.2 Setup of JDK 8<a class="article-anchor" href="#2-2-Setup-of-JDK-8" aria-hidden="true"></a></h3><h3 id="2-3-Setup-of-IntelliJ-IDEA" class="article-heading"><a href="#2-3-Setup-of-IntelliJ-IDEA" class="headerlink" title="2.3 Setup of IntelliJ IDEA"></a>2.3 Setup of IntelliJ IDEA<a class="article-anchor" href="#2-3-Setup-of-IntelliJ-IDEA" aria-hidden="true"></a></h3><p>NULS smart contract adopts IntelliJ IDEA as development tool</p>
<h3 id="2-4-Setup-of-NULS-smart-contract-plug-ins" class="article-heading"><a href="#2-4-Setup-of-NULS-smart-contract-plug-ins" class="headerlink" title="2.4 Setup of NULS smart contract plug-ins"></a>2.4 Setup of NULS smart contract plug-ins<a class="article-anchor" href="#2-4-Setup-of-NULS-smart-contract-plug-ins" aria-hidden="true"></a></h3><p><a href="https://nuls-usa-west.oss-us-west-1.aliyuncs.com/plugins/Docs%26plugin.zip" target="_blank" rel="noopener">Click to download the plugin</a></p>
<p>NULS smart contract plug-ins provide the following main functions:</p>
<ul>
<li>Newly create NULS contract project</li>
<li>Provide the unavailable Java properties, classes ad methods</li>
<li>Compile, package and deploy contracts</li>
<li>Display and call contract methods</li>
</ul>
<h2 id="3-NULS-smart-contract-specifications-and-syntax" class="article-heading"><a href="#3-NULS-smart-contract-specifications-and-syntax" class="headerlink" title="3. NULS smart contract specifications and syntax"></a>3. NULS smart contract specifications and syntax<a class="article-anchor" href="#3-NULS-smart-contract-specifications-and-syntax" aria-hidden="true"></a></h2><p>NULS smart contract syntax is a subset of Java syntax, with some restrictions</p>
<h3 id="3-1-NULS-smart-contract-specifications" class="article-heading"><a href="#3-1-NULS-smart-contract-specifications" class="headerlink" title="3.1 NULS smart contract specifications"></a>3.1 NULS smart contract specifications<a class="article-anchor" href="#3-1-NULS-smart-contract-specifications" aria-hidden="true"></a></h3><blockquote>
<p><strong><em>Main classes of contracts must implement contract interfaces. A smart contract can have a class implementing contract interface only; and other classes and interfaces provide functions for such contract.</em></strong></p>
</blockquote>
<h3 id="3-2-Keywords" class="article-heading"><a href="#3-2-Keywords" class="headerlink" title="3.2 Keywords"></a>3.2 Keywords<a class="article-anchor" href="#3-2-Keywords" aria-hidden="true"></a></h3><p>Java key words are listed as follows and those not applicable for NULS smart contract will be marked</p>
<p>Access control</p>
<ul>
<li>public</li>
<li>protected</li>
<li>private</li>
</ul>
<p>Key words and instantiated object of definition class, interface, abstract class, implementation interface and derivative class</p>
<ul>
<li>class</li>
<li>interface</li>
<li>abstract</li>
<li>implements</li>
<li>extends</li>
<li>new</li>
</ul>
<p>Key words of package</p>
<ul>
<li>import</li>
<li>package</li>
</ul>
<p>Key words of data type</p>
<ul>
<li>byte</li>
<li>char</li>
<li>boolean</li>
<li>short</li>
<li>int</li>
<li>float</li>
<li>long</li>
<li>double</li>
<li>void</li>
<li>null</li>
<li>true</li>
<li>false</li>
</ul>
<p>Conditional loops (process control)</p>
<ul>
<li>if</li>
<li>else</li>
<li>while</li>
<li>for</li>
<li>switch</li>
<li>case</li>
<li>default</li>
<li>do</li>
<li>break</li>
<li>continue</li>
<li>return</li>
<li>instanceof</li>
</ul>
<p>Error processing</p>
<ul>
<li>catch</li>
<li>try</li>
<li>finally</li>
<li>throw</li>
<li>throws</li>
</ul>
<p>Modification method, class, property and variables</p>
<ul>
<li>static</li>
<li>final</li>
<li>super</li>
<li>this</li>
<li>native（not supported）</li>
<li>strictfp（not supported）</li>
<li>synchronized（not supported）</li>
<li>transient（not supported）</li>
<li>volatile（not supported）</li>
</ul>
<p>other</p>
<ul>
<li>enum（not supported）</li>
<li>assert（not supported）</li>
</ul>
<h3 id="3-3-Basic-syntax" class="article-heading"><a href="#3-3-Basic-syntax" class="headerlink" title="3.3 Basic syntax"></a>3.3 Basic syntax<a class="article-anchor" href="#3-3-Basic-syntax" aria-hidden="true"></a></h3><p>The following syntax is the same with Java and simply listed here under, with specific details referred to the relevant documents of Java</p>
<ul>
<li>Identifiers are consisted of character, underline, dollar sign or figure, beginning with character, underline or dollar sign</li>
<li>Basic data type: byte short int long float double char boolean</li>
<li>Reference data type: class, interface, array</li>
<li>Arithmetic operators: + - * /%++ -</li>
<li>Relational operator: &gt; &lt;&gt; = &lt;= ==! =</li>
<li>Logical Operators: ! &amp;| ^ &amp;&amp; ||</li>
<li>Bit operator: &amp;| ^~&gt;&gt; &lt;&lt; &gt;&gt;&gt;</li>
<li>Assignment operator: =</li>
<li>Extension assignment operators: + = - = * = / =</li>
<li>String link operator: +</li>
<li>Conditional operators: ? :</li>
<li>Process control sentence (if, switch, for, while, do…while)</li>
</ul>
<h3 id="3-4-Available-class" class="article-heading"><a href="#3-4-Available-class" class="headerlink" title="3.4 Available class"></a>3.4 Available class<a class="article-anchor" href="#3-4-Available-class" aria-hidden="true"></a></h3><p>NULS smart contract can be developed with the following class</p>
<ul>
<li>io.nuls.contract.sdk.Address</li>
<li>io.nuls.contract.sdk.Block</li>
<li>io.nuls.contract.sdk.BlockHeader</li>
<li>io.nuls.contract.sdk.Contract</li>
<li>io.nuls.contract.sdk.Event</li>
<li>io.nuls.contract.sdk.Msg</li>
<li>io.nuls.contract.sdk.Utils</li>
<li>io.nuls.contract.sdk.annotation.View</li>
<li>io.nuls.contract.sdk.annotation.Required</li>
<li>io.nuls.contract.sdk.annotation.Payable</li>
<li>java.lang.Boolean</li>
<li>java.lang.Byte</li>
<li>java.lang.Short</li>
<li>java.lang.Character</li>
<li>java.lang.Integer</li>
<li>java.lang.Long</li>
<li>java.lang.Float</li>
<li>java.lang.Double</li>
<li>java.lang.String</li>
<li>java.lang.StringBuilder</li>
<li>java.math.BigInteger</li>
<li>java.math.BigDecimal</li>
<li>java.util.Collection</li>
<li>java.util.List</li>
<li>java.util.ArrayList</li>
<li>java.util.LinkedList</li>
<li>java.util.Map</li>
<li>java.util.HashMap</li>
<li>java.util.LinkedHashMap</li>
<li>java.util.Set</li>
<li>java.util.HashSet</li>
</ul>
<h3 id="3-5-Other-restrictions" class="article-heading"><a href="#3-5-Other-restrictions" class="headerlink" title="3.5 Other restrictions"></a>3.5 Other restrictions<a class="article-anchor" href="#3-5-Other-restrictions" aria-hidden="true"></a></h3><ul>
<li>Contract class can have one construction method. No restriction for other classes</li>
<li>The maximum gas consumption for executing a contract method once is 10 million, including the method of the <code>@View</code> type,  Make sure to optimize the contract code as much as possible.</li>
</ul>
<h2 id="4-Nuls-smart-contract-example" class="article-heading"><a href="#4-Nuls-smart-contract-example" class="headerlink" title="4. Nuls smart contract example"></a>4. Nuls smart contract example<a class="article-anchor" href="#4-Nuls-smart-contract-example" aria-hidden="true"></a></h2><p>a simple contract</p>
<blockquote>
<p><strong><em>Main classes of contract must implement contract interface, and other classes and interfaces provide functions for this contract</em></strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> contracts.examples;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Contract;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.Payable;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.Required;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.View;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleStorage</span> <span class="keyword">implements</span> <span class="title">Contract</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String storedData;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getStoredData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> storedData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Payable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStoredData</span><span class="params">(@Required String storedData)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.storedData = storedData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In one contract project, it requires to introduce a jar package “contract-sdk.jar” which provides the class to get block and transaction details<br>The project has several classes and interfaces</p>
<p>When compiling, packaging and deploying the prepared contract onto the NULS chain, the virtual machine will implement the construction method of this contract to initialize it, and save the contract status onto the chain. The contract status is the member variables of contract class</p>
<p>After the contract is deployed, all public methods of contract class can be called so as to read or modify the contract status</p>
<p>Explanatory comments</p>
<p>@View labels the method of @View. After it is called, the contract status will remain and it can be researched by such means</p>
<p>@Payable labels the method of @Payable. Only when it is called, the amount can be transferred in</p>
<p>@Required labels the parameter of @Required. When it is called, there must be transfer-in value</p>
<p>Go to download NULS source code on github, and get some contract examples</p>
<h2 id="5-NULS-Contract-SDK" class="article-heading"><a href="#5-NULS-Contract-SDK" class="headerlink" title="5. NULS Contract SDK"></a>5. NULS Contract SDK<a class="article-anchor" href="#5-NULS-Contract-SDK" aria-hidden="true"></a></h2><p>Contract SDK provides several classes to be convenient for contract development:</p>
<h3 id="io-nuls-contract-sdk-Address" class="article-heading"><a href="#io-nuls-contract-sdk-Address" class="headerlink" title="io.nuls.contract.sdk.Address"></a>io.nuls.contract.sdk.Address<a class="article-anchor" href="#io-nuls-contract-sdk-Address" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        valid(address);</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the balance of the address (only the balance of contract address)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> BigInteger <span class="title">balance</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Transfer amount to the address from contract </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value transfer amount (in Na)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(BigInteger value)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Contract method to call the address</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Method name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Method signature</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Parameters       </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value  Incidental currency (in Na)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(String methodName, String methodDesc, String[][] args, BigInteger value)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Call the contract method of this address with a return value(String)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Method name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Method signature</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Parameters       </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value  Incidental currency (in Na)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> return value after calling the contract</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">callWithReturnValue</span><span class="params">(String methodName, String methodDesc, String[][] args, BigInteger value)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Verify the address </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> address</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> io.nuls.kernel.utils.AddressTool#validAddress(String)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">valid</span><span class="params">(String address)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Address address1 = (Address) o;</span><br><span class="line">        <span class="keyword">return</span> address != <span class="keyword">null</span> ? address.equals(address1.address) : address1.address == <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address != <span class="keyword">null</span> ? address.hashCode() : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-Block" class="article-heading"><a href="#io-nuls-contract-sdk-Block" class="headerlink" title="io.nuls.contract.sdk.Block"></a>io.nuls.contract.sdk.Block<a class="article-anchor" href="#io-nuls-contract-sdk-Block" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Block</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Given block’s head</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> blockNumber</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> BlockHeader <span class="title">getBlockHeader</span><span class="params">(<span class="keyword">long</span> blockNumber)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Current block’s head</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> BlockHeader <span class="title">currentBlockHeader</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Newest block’s head</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> BlockHeader <span class="title">newestBlockHeader</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Given block’s hash</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> blockNumber</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">blockhash</span><span class="params">(<span class="keyword">long</span> blockNumber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getBlockHeader(blockNumber).getHash();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * CCurrent block’s miner address</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Address <span class="title">coinbase</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> currentBlockHeader().getPackingAddress();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * Current block’s No.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">number</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> currentBlockHeader().getHeight();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * </span></span><br><span class="line"><span class="comment">     * Current block’s time stamp</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">timestamp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> currentBlockHeader().getTime();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-BlockHeader" class="article-heading"><a href="#io-nuls-contract-sdk-BlockHeader" class="headerlink" title="io.nuls.contract.sdk.BlockHeader"></a>io.nuls.contract.sdk.BlockHeader<a class="article-anchor" href="#io-nuls-contract-sdk-BlockHeader" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlockHeader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String hash;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> time;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> height;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> txCount;</span><br><span class="line">    <span class="keyword">private</span> Address packingAddress;</span><br><span class="line">    <span class="keyword">private</span> String stateRoot;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hash;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> time;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getHeight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getTxCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> txCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Address <span class="title">getPackingAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> packingAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getStateRoot</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stateRoot;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        BlockHeader that = (BlockHeader) o;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (time != that.time) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (height != that.height) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (txCount != that.txCount) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (hash != <span class="keyword">null</span> ? !hash.equals(that.hash) : that.hash != <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (packingAddress != <span class="keyword">null</span> ? !packingAddress.equals(that.packingAddress) : that.packingAddress != <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> stateRoot != <span class="keyword">null</span> ? stateRoot.equals(that.stateRoot) : that.stateRoot == <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = hash != <span class="keyword">null</span> ? hash.hashCode() : <span class="number">0</span>;</span><br><span class="line">        result = <span class="number">31</span> * result + (<span class="keyword">int</span>) (time ^ (time &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">        result = <span class="number">31</span> * result + (<span class="keyword">int</span>) (height ^ (height &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">        result = <span class="number">31</span> * result + (<span class="keyword">int</span>) (txCount ^ (txCount &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">        result = <span class="number">31</span> * result + (packingAddress != <span class="keyword">null</span> ? packingAddress.hashCode() : <span class="number">0</span>);</span><br><span class="line">        result = <span class="number">31</span> * result + (stateRoot != <span class="keyword">null</span> ? stateRoot.hashCode() : <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"BlockHeader&#123;"</span> +</span><br><span class="line">                <span class="string">"hash='"</span> + hash + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", time="</span> + time +</span><br><span class="line">                <span class="string">", height="</span> + height +</span><br><span class="line">                <span class="string">", txCount="</span> + txCount +</span><br><span class="line">                <span class="string">", packingAddress="</span> + packingAddress +</span><br><span class="line">                <span class="string">", stateRoot='"</span> + stateRoot + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-Contract" class="article-heading"><a href="#io-nuls-contract-sdk-Contract" class="headerlink" title="io.nuls.contract.sdk.Contract"></a>io.nuls.contract.sdk.Contract<a class="article-anchor" href="#io-nuls-contract-sdk-Contract" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  Contract interface, implemented by contract class</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Contract</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Directly transfer to the contract, this method will be called, no action is done by default. If the contract address is to accept direct transfer, you can override this method and mark the `<span class="doctag">@Payable</span>` annotation.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">_payable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-Event" class="article-heading"><a href="#io-nuls-contract-sdk-Event" class="headerlink" title="io.nuls.contract.sdk.Event"></a>io.nuls.contract.sdk.Event<a class="article-anchor" href="#io-nuls-contract-sdk-Event" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Event interface, implemented by event class</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Event</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-Msg" class="article-heading"><a href="#io-nuls-contract-sdk-Msg" class="headerlink" title="io.nuls.contract.sdk.Msg"></a>io.nuls.contract.sdk.Msg<a class="article-anchor" href="#io-nuls-contract-sdk-Msg" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Msg</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Remaining gas</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">long</span> <span class="title">gasleft</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * sender of the contract</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> Address <span class="title">sender</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The number of Nuls transferred by the contract sender to the contract address, the unit is Na, 1Nuls = 1 billion Na</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> BigInteger <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Gas price</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">long</span> <span class="title">gasprice</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Contract address</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> Address <span class="title">address</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-Utils" class="article-heading"><a href="#io-nuls-contract-sdk-Utils" class="headerlink" title="io.nuls.contract.sdk.Utils"></a>io.nuls.contract.sdk.Utils<a class="article-anchor" href="#io-nuls-contract-sdk-Utils" aria-hidden="true"></a></h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Utils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Utils</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  Check conditions; if conditions are not met, it will roll back.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> expression</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">require</span><span class="params">(<span class="keyword">boolean</span> expression)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!expression) &#123;</span><br><span class="line">            revert();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Check conditions; if conditions are not met, it will roll back</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> expression</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> errorMessage</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">require</span><span class="params">(<span class="keyword">boolean</span> expression, String errorMessage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!expression) &#123;</span><br><span class="line">            revert(errorMessage);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Terminate implementation and restore status</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">revert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        revert(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Terminate implementation and restore status</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> errorMessage</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">revert</span><span class="params">(String errorMessage)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Send events</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> event</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">emit</span><span class="params">(Event event)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> seed a private seed</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> pseudo random number (0 ~ 1)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">float</span> <span class="title">pseudoRandom</span><span class="params">(<span class="keyword">long</span> seed)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> hash1 = Block.currentBlockHeader().getPackingAddress().toString().substring(<span class="number">2</span>).hashCode();</span><br><span class="line">        <span class="keyword">int</span> hash2 = Msg.address().toString().substring(<span class="number">2</span>).hashCode();</span><br><span class="line">        <span class="keyword">int</span> hash3 = Msg.sender() != <span class="keyword">null</span> ? Msg.sender().toString().substring(<span class="number">2</span>).hashCode() : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> hash4 = Long.valueOf(Block.timestamp()).toString().hashCode();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> hash = seed ^ hash1 ^ hash2 ^ hash3 ^ hash4;</span><br><span class="line"></span><br><span class="line">        seed = (hash * <span class="number">0x5DEECE66DL</span> + <span class="number">0xBL</span>) &amp; ((<span class="number">1L</span> &lt;&lt; <span class="number">48</span>) - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> ((<span class="keyword">int</span>) (seed &gt;&gt;&gt; <span class="number">24</span>) / (<span class="keyword">float</span>) (<span class="number">1</span> &lt;&lt; <span class="number">24</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> pseudo random number (0 ~ 1)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">float</span> <span class="title">pseudoRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pseudoRandom(<span class="number">0x5DEECE66DL</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> src source string</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> sha3-256 hash (utf-8 encode)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> String <span class="title">sha3</span><span class="params">(String src)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bytes source byte array</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> sha3-256 hash</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> String <span class="title">sha3</span><span class="params">(<span class="keyword">byte</span>[] bytes)</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-annotation-Payable" class="article-heading"><a href="#io-nuls-contract-sdk-annotation-Payable" class="headerlink" title="io.nuls.contract.sdk.annotation.Payable"></a>io.nuls.contract.sdk.annotation.Payable<a class="article-anchor" href="#io-nuls-contract-sdk-annotation-Payable" aria-hidden="true"></a></h3><p><code>@Payable labels the method of @Payable. Only when it is called, the amount can be transferred in</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Payable &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-annotation-Required" class="article-heading"><a href="#io-nuls-contract-sdk-annotation-Required" class="headerlink" title="io.nuls.contract.sdk.annotation.Required"></a>io.nuls.contract.sdk.annotation.Required<a class="article-anchor" href="#io-nuls-contract-sdk-annotation-Required" aria-hidden="true"></a></h3><p><code>@Required labels the parameter of @Required. When it is called, there must be transfer-in value.</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.PARAMETER&#125;)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Required &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="io-nuls-contract-sdk-annotation-View" class="article-heading"><a href="#io-nuls-contract-sdk-annotation-View" class="headerlink" title="io.nuls.contract.sdk.annotation.View"></a>io.nuls.contract.sdk.annotation.View<a class="article-anchor" href="#io-nuls-contract-sdk-annotation-View" aria-hidden="true"></a></h3><p><code>@Viewlabels the method of @View. After it is called, the contract status will remain and it can be researched by such means</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.METHOD&#125;)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> View &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-Main-RPC-interface-of-smart-contract" class="article-heading"><a href="#6-Main-RPC-interface-of-smart-contract" class="headerlink" title="6. Main RPC interface of smart contract"></a>6. Main RPC interface of smart contract<a class="article-anchor" href="#6-Main-RPC-interface-of-smart-contract" aria-hidden="true"></a></h2><p>See parameter structure and simple examples hereafter. See details of other interfaces at [Swagger UI] (<a href="http://127.0.0.1:8001/docs#/" target="_blank" rel="noopener">http://127.0.0.1:8001/docs#/</a>)</p>
<blockquote>
<p>The default port of test network’s “Swagger UI” is 8001, and that of official network is 6001</p>
</blockquote>
<h3 id="6-1-Create-smart-contract" class="article-heading"><a href="#6-1-Create-smart-contract" class="headerlink" title="6.1 Create smart contract"></a>6.1 Create smart contract<a class="article-anchor" href="#6-1-Create-smart-contract" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/create</code> </li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Parameter</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sender*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">transaction creator</td>
</tr>
<tr>
<td style="text-align:center">password*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">password of transaction creator</td>
</tr>
<tr>
<td style="text-align:center">gasLimit*</td>
<td style="text-align:center">long</td>
<td style="text-align:center">max. gas consumption</td>
</tr>
<tr>
<td style="text-align:center">price*</td>
<td style="text-align:center">long</td>
<td style="text-align:center">unit price of implementation contract</td>
</tr>
<tr>
<td style="text-align:center">contractCode*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">smart contract code (byte code’s Hex coded string)</td>
</tr>
<tr>
<td style="text-align:center">remark</td>
<td style="text-align:center">string</td>
<td style="text-align:center">remark</td>
</tr>
<tr>
<td style="text-align:center">args</td>
<td style="text-align:center">string[][]</td>
<td style="text-align:center">Parameter list</td>
</tr>
</tbody>
</table>
<ul>
<li>Example Value</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"sender"</span>: <span class="string">"Nsdz8mKKFMehRDVRZFyXNuuenugUYM7M"</span>,</span><br><span class="line">  <span class="attr">"gasLimit"</span>: <span class="number">4687</span>,</span><br><span class="line">  <span class="attr">"price"</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">"xxx"</span>,</span><br><span class="line">  <span class="attr">"contractCode"</span>: <span class="string">"504b03041400080808003b5aed4c000000000000000000000000090004004d4554412d494e462ffeca00000300504b0708000000000200000000000000504b03041400080808003b5aed4c000000000000000000000000140000004d4554412d494e462f4d414e49464553542e4d46f34dcccb4c4b2d2ed10d4b2d2acecccfb35230d433e0e5722e4a4d2c494dd175aa040958e819c41b9a982868f8172526e7a42a38e71715e417259600d56bf272f1720100504b07089e7c76534400000045000000504b03040a00000800007559ed4c0000000000000000000000000d00000074657374636f6e74726163742f504b03041400080808008359ed4c0000000000000000000000001f00000074657374636f6e74726163742f54657374436f6e74726163742e636c6173737d535d53d350103d9796a684604b2cdf20c5cf365a421110f986225a2cf040c5d1b7b40d25d0264c9232e39bbfc2f147f8a03352189df107f8a31cf7b635744a310f7befeedd73f6dcdd9bdf7f7efc023083bd2e746052801ac4948824a6453cc58c8859cc75827f9f3f7de4de331e9f0fe2b9883e2c04b1c8714bdc2c0b581111c60237ab41acf1754ec0ba800d06bfa99575063973ac9d696a49338beabe6b1b66719121e07c28e7ac12434fca321d5733dd03ad54a1ec6041cf1b65ade430b0b48f44c80c425177776b5c9158bc1d9b3f6515e83494314c7db752cee97656cb956ab5adbc563ad06c83fb8da0df3d32887e24e3ea8e9bb74cd7d6f2ae9a2527d57088b28b6aee373476d37ed393e58bc5d3a429a791863c574c10d339d46dbad592611aee4a2de78041dcb72a765edf3278d5dee60293fc12120630c83074a30c868e6c56404ac2265e08d89210c34b01af24a4312e611baf25c491a1baeb6f93b3f36f2428784cd23947d63ad14d094318943082518681d6be6d548c5241b725ec609740d144b4cec210be4addcb1deb5cc89861a966a5e4a89e50a770a25e091d6c7bbee314a9535aa160eb0e752e4ad36b9bb75ecfa0b68ffeef9ccafc9b7f59738fd40da398365dbda8db848cb48bf3e958f5eb929033fec4f60ea9e5b1ed1b798662ed4ff84003dae9a96e161812b1ebcff0facb6c74781113f4aff481a11f3edad1d4f9bbe6b3a1d830ed3b282ef33179fe1802b4bf8371b2518aa8b4325a3b95ef605f6b29136403b5a082bb64a57a02eee13ead0c0f3c70a201f6c9be56e86413d4e7411fe2512b342c7f69814eb785c6bcaa330da878097f159d55045a8bcf3531881e43dc6358265e7e16228608844b745521cadd573422adc002512c3651853c2afa1d1a5456832aa95c4052e49e733045f69de3961296cf11fa89f0bb0bf42aefa9bb55c8f26d32554428eb9b576c9854032bf05367456a51989ad48f554c61ada978d22bfea4864cfc05504b070818c1191cd20200006f050000504b010214001400080808003b5aed4c0000000002000000000000000900040000000000000000000000000000004d4554412d494e462ffeca0000504b010214001400080808003b5aed4c9e7c7653440000004500000014000000000000000000000000003d0000004d4554412d494e462f4d414e49464553542e4d46504b01020a000a00000800007559ed4c0000000000000000000000000d00000000000000000000000000c300000074657374636f6e74726163742f504b010214001400080808008359ed4c18c1191cd20200006f0500001f00000000000000000000000000ee00000074657374636f6e74726163742f54657374436f6e74726163742e636c617373504b05060000000004000400050100000d0400000000"</span>,</span><br><span class="line">  <span class="attr">"remark"</span>: <span class="string">"asd"</span>,</span><br><span class="line">  <span class="attr">"args"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-2-Estimate-the-gas-consumption-for-creating-smart-contract" class="article-heading"><a href="#6-2-Estimate-the-gas-consumption-for-creating-smart-contract" class="headerlink" title="6.2 Estimate the gas consumption for creating smart contract"></a>6.2 Estimate the gas consumption for creating smart contract<a class="article-anchor" href="#6-2-Estimate-the-gas-consumption-for-creating-smart-contract" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/imputedgas/create</code> </li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Parameter</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sender*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">transaction creator</td>
</tr>
<tr>
<td style="text-align:center">password*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">password of transaction creator</td>
</tr>
<tr>
<td style="text-align:center">price*</td>
<td style="text-align:center">long</td>
<td style="text-align:center">unit price of implementation contract</td>
</tr>
<tr>
<td style="text-align:center">contractCode*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">smart contract code (byte code’s Hex coded string)</td>
</tr>
<tr>
<td style="text-align:center">args</td>
<td style="text-align:center">string[][]</td>
<td style="text-align:center">Parameter list</td>
</tr>
</tbody>
</table>
<ul>
<li>Example Value</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"sender"</span>: <span class="string">"Nsdz8mKKFMehRDVRZFyXNuuenugUYM7M"</span>,</span><br><span class="line">  <span class="attr">"price"</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">"xxx"</span>,</span><br><span class="line">  <span class="attr">"contractCode"</span>: <span class="string">"504b03041400080808003b5aed4c000000000000000000000000090004004d4554412d494e462ffeca00000300504b0708000000000200000000000000504b03041400080808003b5aed4c000000000000000000000000140000004d4554412d494e462f4d414e49464553542e4d46f34dcccb4c4b2d2ed10d4b2d2acecccfb35230d433e0e5722e4a4d2c494dd175aa040958e819c41b9a982868f8172526e7a42a38e71715e417259600d56bf272f1720100504b07089e7c76534400000045000000504b03040a00000800007559ed4c0000000000000000000000000d00000074657374636f6e74726163742f504b03041400080808008359ed4c0000000000000000000000001f00000074657374636f6e74726163742f54657374436f6e74726163742e636c6173737d535d53d350103d9796a684604b2cdf20c5cf365a421110f986225a2cf040c5d1b7b40d25d0264c9232e39bbfc2f147f8a03352189df107f8a31cf7b635744a310f7befeedd73f6dcdd9bdf7f7efc023083bd2e746052801ac4948824a6453cc58c8859cc75827f9f3f7de4de331e9f0fe2b9883e2c04b1c8714bdc2c0b581111c60237ab41acf1754ec0ba800d06bfa99575063973ac9d696a49338beabe6b1b66719121e07c28e7ac12434fca321d5733dd03ad54a1ec6041cf1b65ade430b0b48f44c80c425177776b5c9158bc1d9b3f6515e83494314c7db752cee97656cb956ab5adbc563ad06c83fb8da0df3d32887e24e3ea8e9bb74cd7d6f2ae9a2527d57088b28b6aee373476d37ed393e58bc5d3a429a791863c574c10d339d46dbad592611aee4a2de78041dcb72a765edf3278d5dee60293fc12120630c83074a30c868e6c56404ac2265e08d89210c34b01af24a4312e611baf25c491a1baeb6f93b3f36f2428784cd23947d63ad14d094318943082518681d6be6d548c5241b725ec609740d144b4cec210be4addcb1deb5cc89861a966a5e4a89e50a770a25e091d6c7bbee314a9535aa160eb0e752e4ad36b9bb75ecfa0b68ffeef9ccafc9b7f59738fd40da398365dbda8db848cb48bf3e958f5eb929033fec4f60ea9e5b1ed1b798662ed4ff84003dae9a96e161812b1ebcff0facb6c74781113f4aff481a11f3edad1d4f9bbe6b3a1d830ed3b282ef33179fe1802b4bf8371b2518aa8b4325a3b95ef605f6b29136403b5a082bb64a57a02eee13ead0c0f3c70a201f6c9be56e86413d4e7411fe2512b342c7f69814eb785c6bcaa330da878097f159d55045a8bcf3531881e43dc6358265e7e16228608844b745521cadd573422adc002512c3651853c2afa1d1a5456832aa95c4052e49e733045f69de3961296cf11fa89f0bb0bf42aefa9bb55c8f26d32554428eb9b576c9854032bf05367456a51989ad48f554c61ada978d22bfea4864cfc05504b070818c1191cd20200006f050000504b010214001400080808003b5aed4c0000000002000000000000000900040000000000000000000000000000004d4554412d494e462ffeca0000504b010214001400080808003b5aed4c9e7c7653440000004500000014000000000000000000000000003d0000004d4554412d494e462f4d414e49464553542e4d46504b01020a000a00000800007559ed4c0000000000000000000000000d00000000000000000000000000c300000074657374636f6e74726163742f504b010214001400080808008359ed4c18c1191cd20200006f0500001f00000000000000000000000000ee00000074657374636f6e74726163742f54657374436f6e74726163742e636c617373504b05060000000004000400050100000d0400000000"</span>,</span><br><span class="line">  <span class="attr">"args"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-3-Call-smart-contract" class="article-heading"><a href="#6-3-Call-smart-contract" class="headerlink" title="6.3 Call smart contract"></a>6.3 Call smart contract<a class="article-anchor" href="#6-3-Call-smart-contract" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/call</code> </li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Parameter</th>
<th style="text-align:center">Type</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">sender*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">transaction creator</td>
</tr>
<tr>
<td style="text-align:center">password*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">password of transaction creator</td>
</tr>
<tr>
<td style="text-align:center">contractAddress*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">address of smart contract</td>
</tr>
<tr>
<td style="text-align:center">gasLimit*</td>
<td style="text-align:center">long</td>
<td style="text-align:center">max. gas consumption</td>
</tr>
<tr>
<td style="text-align:center">price*</td>
<td style="text-align:center">long</td>
<td style="text-align:center">unit price of implementation contract</td>
</tr>
<tr>
<td style="text-align:center">value</td>
<td style="text-align:center">long</td>
<td style="text-align:center">amount transferred by transaction creator to contract address (Na - 100000000Na=1NULS)</td>
</tr>
<tr>
<td style="text-align:center">methodName*</td>
<td style="text-align:center">string</td>
<td style="text-align:center">method name</td>
</tr>
<tr>
<td style="text-align:center">methodDesc</td>
<td style="text-align:center">string</td>
<td style="text-align:center">method signature which may be not transferred if the method name is not repeated</td>
</tr>
<tr>
<td style="text-align:center">remark</td>
<td style="text-align:center">string</td>
<td style="text-align:center">remark</td>
</tr>
<tr>
<td style="text-align:center">args</td>
<td style="text-align:center">string[][]</td>
<td style="text-align:center">Parameter list</td>
</tr>
</tbody>
</table>
<ul>
<li>Example Value</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"sender"</span>: <span class="string">"Nsdz8mKKFMehRDVRZFyXNuuenugUYM7M"</span>,</span><br><span class="line">  <span class="attr">"password"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"contractAddress"</span>: <span class="string">"NseBvPEzerLi3p5Me8Rbm7SeHThVGv1U"</span>,</span><br><span class="line">  <span class="attr">"gasLimit"</span>: <span class="number">8000</span>,</span><br><span class="line">  <span class="attr">"price"</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">"value"</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">"methodName"</span>: <span class="string">"balance"</span>,</span><br><span class="line">  <span class="attr">"methodDesc"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"remark"</span>: <span class="string">"qwe"</span></span><br><span class="line">  <span class="string">"args"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-4-Estimate-the-gas-consumption-for-calling-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-4-Estimate-the-gas-consumption-for-calling-smart-contract-see-Swagger-UI" class="headerlink" title="6.4 Estimate the gas consumption for calling smart contract (see Swagger UI)"></a>6.4 Estimate the gas consumption for calling smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-4-Estimate-the-gas-consumption-for-calling-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/imputedgas/call</code> </li>
</ul>
<h3 id="6-5-Estimate-the-price-for-calling-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-5-Estimate-the-price-for-calling-smart-contract-see-Swagger-UI" class="headerlink" title="6.5 Estimate the price for calling smart contract (see Swagger UI)"></a>6.5 Estimate the price for calling smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-5-Estimate-the-price-for-calling-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/imputedprice</code></li>
</ul>
<h3 id="6-6-Terminate-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-6-Terminate-smart-contract-see-Swagger-UI" class="headerlink" title="6.6 Terminate smart contract (see Swagger UI)"></a>6.6 Terminate smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-6-Terminate-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/delete</code> </li>
</ul>
<h3 id="6-7-Call-the-smart-contract-function-which-is-not-linked-to-blockchain-see-Swagger-UI" class="article-heading"><a href="#6-7-Call-the-smart-contract-function-which-is-not-linked-to-blockchain-see-Swagger-UI" class="headerlink" title="6.7 Call the smart contract function which is not linked to blockchain (see Swagger UI)"></a>6.7 Call the smart contract function which is not linked to blockchain (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-7-Call-the-smart-contract-function-which-is-not-linked-to-blockchain-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/view</code> </li>
</ul>
<h3 id="6-8-Get-the-implementation-results-of-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-8-Get-the-implementation-results-of-smart-contract-see-Swagger-UI" class="headerlink" title="6.8 Get the implementation results of smart contract (see Swagger UI)"></a>6.8 Get the implementation results of smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-8-Get-the-implementation-results-of-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/result/{hash}</code> </li>
</ul>
<h3 id="6-9-Get-the-basic-information-of-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-9-Get-the-basic-information-of-smart-contract-see-Swagger-UI" class="headerlink" title="6.9 Get the basic information of smart contract (see Swagger UI)"></a>6.9 Get the basic information of smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-9-Get-the-basic-information-of-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/info/{address}</code> </li>
</ul>
<h3 id="6-10-Verify-if-it-is-contract-address-see-Swagger-UI" class="article-heading"><a href="#6-10-Verify-if-it-is-contract-address-see-Swagger-UI" class="headerlink" title="6.10 Verify if it is contract address (see Swagger UI)"></a>6.10 Verify if it is contract address (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-10-Verify-if-it-is-contract-address-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/{address}</code> </li>
</ul>
<h3 id="6-11-Get-the-NULS-balance-of-smart-contract-address-see-Swagger-UI" class="article-heading"><a href="#6-11-Get-the-NULS-balance-of-smart-contract-address-see-Swagger-UI" class="headerlink" title="6.11 Get the NULS balance of smart contract address (see Swagger UI)"></a>6.11 Get the NULS balance of smart contract address (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-11-Get-the-NULS-balance-of-smart-contract-address-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/balance/{address}</code> </li>
</ul>
<h3 id="6-12-Get-the-transaction-details-of-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-12-Get-the-transaction-details-of-smart-contract-see-Swagger-UI" class="headerlink" title="6.12 Get the transaction details of smart contract (see Swagger UI)"></a>6.12 Get the transaction details of smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-12-Get-the-transaction-details-of-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/tx/{hash}</code> </li>
</ul>
<h3 id="6-13-Get-the-transaction-list-of-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-13-Get-the-transaction-list-of-smart-contract-see-Swagger-UI" class="headerlink" title="6.13 Get the transaction list of smart contract (see Swagger UI)"></a>6.13 Get the transaction list of smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-13-Get-the-transaction-list-of-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/tx/list/{address}</code> </li>
</ul>
<h3 id="6-14-Inquire-contract-UTXO-as-per-address-and-limit-see-Swagger-UI" class="article-heading"><a href="#6-14-Inquire-contract-UTXO-as-per-address-and-limit-see-Swagger-UI" class="headerlink" title="6.14 Inquire contract UTXO as per address and limit (see Swagger UI)"></a>6.14 Inquire contract UTXO as per address and limit (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-14-Inquire-contract-UTXO-as-per-address-and-limit-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/limit/{address}/{limit}</code> </li>
</ul>
<h3 id="6-15-Inquire-contract-UTXO-as-per-address-and-amount-see-Swagger-UI" class="article-heading"><a href="#6-15-Inquire-contract-UTXO-as-per-address-and-amount-see-Swagger-UI" class="headerlink" title="6.15 Inquire contract UTXO as per address and amount (see Swagger UI)"></a>6.15 Inquire contract UTXO as per address and amount (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-15-Inquire-contract-UTXO-as-per-address-and-amount-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>GET <code>/api/contract/amount/{address}/{amount}</code> </li>
</ul>
<h3 id="6-16-Transfer-amount-to-smart-contract-see-Swagger-UI" class="article-heading"><a href="#6-16-Transfer-amount-to-smart-contract-see-Swagger-UI" class="headerlink" title="6.16 Transfer amount to smart contract (see Swagger UI)"></a>6.16 Transfer amount to smart contract (see <code>Swagger UI</code>)<a class="article-anchor" href="#6-16-Transfer-amount-to-smart-contract-see-Swagger-UI" aria-hidden="true"></a></h3><ul>
<li>POST <code>/api/contract/transfer</code> </li>
</ul>
<h2 id="7-Example" class="article-heading"><a href="#7-Example" class="headerlink" title="7. Example"></a>7. Example<a class="article-anchor" href="#7-Example" aria-hidden="true"></a></h2><h3 id="7-1-Voting-smart-contract-code-segments-are-as-follows" class="article-heading"><a href="#7-1-Voting-smart-contract-code-segments-are-as-follows" class="headerlink" title="7.1 Voting smart contract code segments are as follows"></a>7.1 Voting smart contract code <code>segments</code> are as follows<a class="article-anchor" href="#7-1-Voting-smart-contract-code-segments-are-as-follows" aria-hidden="true"></a></h3><blockquote>
<p>Full code: <code>https://github.com/nuls-io/nuls-vote</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> io.nuls.vote.contract;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Address;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Contract;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Utils;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.Payable;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.View;</span><br><span class="line"><span class="keyword">import</span> io.nuls.vote.contract.func.BaseVote;</span><br><span class="line"><span class="keyword">import</span> io.nuls.vote.contract.func.VoteInterface;</span><br><span class="line"><span class="keyword">import</span> io.nuls.vote.contract.model.VoteConfig;</span><br><span class="line"><span class="keyword">import</span> io.nuls.vote.contract.model.VoteEntity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VoteContract</span> <span class="keyword">implements</span> <span class="title">Contract</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> VoteInterface baseVote;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VoteContract</span><span class="params">(<span class="keyword">long</span> minRecognizance)</span> </span>&#123;</span><br><span class="line">        baseVote = <span class="keyword">new</span> BaseVote(BigInteger.valueOf(minRecognizance));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Payable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> VoteEntity <span class="title">create</span><span class="params">(String title, String desc, String[] items, <span class="keyword">long</span> startTime, <span class="keyword">long</span> endTime, <span class="keyword">boolean</span> isMultipleSelect, <span class="keyword">int</span> maxSelectCount, <span class="keyword">boolean</span> voteCanModify)</span> </span>&#123;</span><br><span class="line">        VoteEntity voteEntity = baseVote.create(title, desc, items);</span><br><span class="line"></span><br><span class="line">        VoteConfig config = <span class="keyword">new</span> VoteConfig(startTime, endTime, isMultipleSelect, maxSelectCount, voteCanModify);</span><br><span class="line">        <span class="keyword">boolean</span> success = baseVote.init(voteEntity.getId(), config);</span><br><span class="line"></span><br><span class="line">        Utils.require(success);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> voteEntity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">vote</span><span class="params">(<span class="keyword">long</span> voteId, <span class="keyword">long</span>[] itemIds)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.vote(voteId, itemIds);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">redemption</span><span class="params">(<span class="keyword">long</span> voteId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.redemption(voteId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canVote</span><span class="params">(<span class="keyword">long</span> voteId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.canVote(voteId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> VoteEntity <span class="title">queryVote</span><span class="params">(<span class="keyword">long</span> voteId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.queryVote(voteId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="keyword">public</span> Map&lt;Address, List&lt;Long&gt;&gt; queryVoteResult(<span class="keyword">long</span> voteId) &#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.queryVoteResult(voteId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">queryAddressHasVote</span><span class="params">(<span class="keyword">long</span> voteId, Address address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> baseVote.queryAddressHasVote(voteId, address);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If the methods of smart contract include the parameter of  <code>array type</code>, please use the following method to transfer parameters</p>
<blockquote>
<p>Refer to the <code>create</code> method in the aforesaid voting contract code</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"sender"</span>: <span class="string">"NsdtydTVWskMc7GkZzbsq2FoChqKFwMf"</span>,</span><br><span class="line">  <span class="string">"password"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"contractAddress"</span>: <span class="string">"NseLt14NacjTDhXaTXUdrk6VF7aEwtW4"</span>,</span><br><span class="line">  <span class="string">"gasLimit"</span>: <span class="number">200000</span>,</span><br><span class="line">  <span class="string">"price"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">"value"</span>: <span class="number">10000000000</span>,</span><br><span class="line">  <span class="string">"methodName"</span>: <span class="string">"create"</span>,</span><br><span class="line">  <span class="string">"methodDesc"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"remark"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"args"</span>: [</span><br><span class="line">     <span class="string">"Test voting 1"</span>,</span><br><span class="line">     <span class="string">"Voting contract 1"</span>,</span><br><span class="line">     [</span><br><span class="line">       <span class="string">"Option 1"</span>,</span><br><span class="line">       <span class="string">"Option 2"</span>,</span><br><span class="line">       <span class="string">"Option 3"</span></span><br><span class="line">     ],</span><br><span class="line">     <span class="number">1536044066056</span>, <span class="number">1536184066056</span>, <span class="literal">false</span>, <span class="number">300</span>, <span class="literal">false</span></span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2-Standard-Token-Smart-contract-code-segments" class="article-heading"><a href="#7-2-Standard-Token-Smart-contract-code-segments" class="headerlink" title="7.2 Standard Token Smart contract code segments"></a>7.2 Standard Token Smart contract code <code>segments</code><a class="article-anchor" href="#7-2-Standard-Token-Smart-contract-code-segments" aria-hidden="true"></a></h3><blockquote>
<p>Full code: <code>https://github.com/nuls-io/nuls-nrc20</code></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> io.nuls.contract.token;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Address;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Contract;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.Msg;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.Required;</span><br><span class="line"><span class="keyword">import</span> io.nuls.contract.sdk.annotation.View;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.nuls.contract.sdk.Utils.emit;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> io.nuls.contract.sdk.Utils.require;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleToken</span> <span class="keyword">implements</span> <span class="title">Contract</span>, <span class="title">Token</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String symbol;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> decimals;</span><br><span class="line">    <span class="keyword">private</span> BigInteger totalSupply = BigInteger.ZERO;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Address, BigInteger&gt; balances = <span class="keyword">new</span> HashMap&lt;Address, BigInteger&gt;();</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Address, Map&lt;Address, BigInteger&gt;&gt; allowed = <span class="keyword">new</span> HashMap&lt;Address, Map&lt;Address, BigInteger&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">symbol</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> symbol;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">decimals</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> decimals;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BigInteger <span class="title">totalSupply</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> totalSupply;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SimpleToken</span><span class="params">(@Required String name, @Required String symbol, @Required BigInteger initialAmount, @Required <span class="keyword">int</span> decimals)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.symbol = symbol;</span><br><span class="line">        <span class="keyword">this</span>.decimals = decimals;</span><br><span class="line">        totalSupply = initialAmount.multiply(BigInteger.TEN.pow(decimals));;</span><br><span class="line">        balances.put(Msg.sender(), totalSupply);</span><br><span class="line">        emit(<span class="keyword">new</span> TransferEvent(<span class="keyword">null</span>, Msg.sender(), totalSupply));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BigInteger <span class="title">allowance</span><span class="params">(@Required Address owner, @Required Address spender)</span> </span>&#123;</span><br><span class="line">        Map&lt;Address, BigInteger&gt; ownerAllowed = allowed.get(owner);</span><br><span class="line">        <span class="keyword">if</span> (ownerAllowed == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> BigInteger.ZERO;</span><br><span class="line">        &#125;</span><br><span class="line">        BigInteger value = ownerAllowed.get(spender);</span><br><span class="line">        <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">            value = BigInteger.ZERO;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">transferFrom</span><span class="params">(@Required Address from, @Required Address to, @Required BigInteger value)</span> </span>&#123;</span><br><span class="line">        subtractAllowed(from, Msg.sender(), value);</span><br><span class="line">        subtractBalance(from, value);</span><br><span class="line">        addBalance(to, value);</span><br><span class="line">        emit(<span class="keyword">new</span> TransferEvent(from, to, value));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@View</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BigInteger <span class="title">balanceOf</span><span class="params">(@Required Address owner)</span> </span>&#123;</span><br><span class="line">        require(owner != <span class="keyword">null</span>);</span><br><span class="line">        BigInteger balance = balances.get(owner);</span><br><span class="line">        <span class="keyword">if</span> (balance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            balance = BigInteger.ZERO;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">transfer</span><span class="params">(@Required Address to, @Required BigInteger value)</span> </span>&#123;</span><br><span class="line">        subtractBalance(Msg.sender(), value);</span><br><span class="line">        addBalance(to, value);</span><br><span class="line">        emit(<span class="keyword">new</span> TransferEvent(Msg.sender(), to, value));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">approve</span><span class="params">(@Required Address spender, @Required BigInteger value)</span> </span>&#123;</span><br><span class="line">        setAllowed(Msg.sender(), spender, value);</span><br><span class="line">        emit(<span class="keyword">new</span> ApprovalEvent(Msg.sender(), spender, value));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">increaseApproval</span><span class="params">(@Required Address spender, @Required BigInteger addedValue)</span> </span>&#123;</span><br><span class="line">        addAllowed(Msg.sender(), spender, addedValue);</span><br><span class="line">        emit(<span class="keyword">new</span> ApprovalEvent(Msg.sender(), spender, allowance(Msg.sender(), spender)));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">decreaseApproval</span><span class="params">(@Required Address spender, @Required BigInteger subtractedValue)</span> </span>&#123;</span><br><span class="line">        check(subtractedValue);</span><br><span class="line">        BigInteger oldValue = allowance(Msg.sender(), spender);</span><br><span class="line">        <span class="keyword">if</span> (subtractedValue.compareTo(oldValue) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            setAllowed(Msg.sender(), spender, BigInteger.ZERO);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            subtractAllowed(Msg.sender(), spender, subtractedValue);</span><br><span class="line">        &#125;</span><br><span class="line">        emit(<span class="keyword">new</span> ApprovalEvent(Msg.sender(), spender, allowance(Msg.sender(), spender)));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addAllowed</span><span class="params">(Address address1, Address address2, BigInteger value)</span> </span>&#123;</span><br><span class="line">        BigInteger allowance = allowance(address1, address2);</span><br><span class="line">        check(allowance);</span><br><span class="line">        check(value);</span><br><span class="line">        setAllowed(address1, address2, allowance.add(value));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">subtractAllowed</span><span class="params">(Address address1, Address address2, BigInteger value)</span> </span>&#123;</span><br><span class="line">        BigInteger allowance = allowance(address1, address2);</span><br><span class="line">        check(allowance, value, <span class="string">"Insufficient approved token"</span>);</span><br><span class="line">        setAllowed(address1, address2, allowance.subtract(value));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setAllowed</span><span class="params">(Address address1, Address address2, BigInteger value)</span> </span>&#123;</span><br><span class="line">        check(value);</span><br><span class="line">        Map&lt;Address, BigInteger&gt; address1Allowed = allowed.get(address1);</span><br><span class="line">        <span class="keyword">if</span> (address1Allowed == <span class="keyword">null</span>) &#123;</span><br><span class="line">            address1Allowed = <span class="keyword">new</span> HashMap&lt;Address, BigInteger&gt;();</span><br><span class="line">            allowed.put(address1, address1Allowed);</span><br><span class="line">        &#125;</span><br><span class="line">        address1Allowed.put(address2, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addBalance</span><span class="params">(Address address, BigInteger value)</span> </span>&#123;</span><br><span class="line">        BigInteger balance = balanceOf(address);</span><br><span class="line">        check(value, <span class="string">"The value must be greater than or equal to 0."</span>);</span><br><span class="line">        check(balance);</span><br><span class="line">        balances.put(address, balance.add(value));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">subtractBalance</span><span class="params">(Address address, BigInteger value)</span> </span>&#123;</span><br><span class="line">        BigInteger balance = balanceOf(address);</span><br><span class="line">        check(balance, value, <span class="string">"Insufficient balance of token."</span>);</span><br><span class="line">        balances.put(address, balance.subtract(value));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(BigInteger value)</span> </span>&#123;</span><br><span class="line">        require(value != <span class="keyword">null</span> &amp;&amp; value.compareTo(BigInteger.ZERO) &gt;= <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(BigInteger value1, BigInteger value2)</span> </span>&#123;</span><br><span class="line">        check(value1);</span><br><span class="line">        check(value2);</span><br><span class="line">        require(value1.compareTo(value2) &gt;= <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(BigInteger value, String msg)</span> </span>&#123;</span><br><span class="line">        require(value != <span class="keyword">null</span> &amp;&amp; value.compareTo(BigInteger.ZERO) &gt;= <span class="number">0</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(BigInteger value1, BigInteger value2, String msg)</span> </span>&#123;</span><br><span class="line">        check(value1);</span><br><span class="line">        check(value2);</span><br><span class="line">        require(value1.compareTo(value2) &gt;= <span class="number">0</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2019-01-02T05:45:51.854Z" itemprop="dateModified">Last updated: 2019-01-02</time>
                <a href="NRC-20_Token_Standard.html" class="article-footer-next" title="NRC-20"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NULS-Smart-Contract-Development-Manual"><span class="toc-text">NULS Smart Contract Development Manual</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Introduction"><span class="toc-text">1. Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Development-environment"><span class="toc-text">2. Development environment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Setup-of-NULS-wallet"><span class="toc-text">2.1 Setup of NULS wallet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Setup-of-JDK-8"><span class="toc-text">2.2 Setup of JDK 8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Setup-of-IntelliJ-IDEA"><span class="toc-text">2.3 Setup of IntelliJ IDEA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Setup-of-NULS-smart-contract-plug-ins"><span class="toc-text">2.4 Setup of NULS smart contract plug-ins</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-NULS-smart-contract-specifications-and-syntax"><span class="toc-text">3. NULS smart contract specifications and syntax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-NULS-smart-contract-specifications"><span class="toc-text">3.1 NULS smart contract specifications</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Keywords"><span class="toc-text">3.2 Keywords</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Basic-syntax"><span class="toc-text">3.3 Basic syntax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-Available-class"><span class="toc-text">3.4 Available class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-Other-restrictions"><span class="toc-text">3.5 Other restrictions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Nuls-smart-contract-example"><span class="toc-text">4. Nuls smart contract example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-NULS-Contract-SDK"><span class="toc-text">5. NULS Contract SDK</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Address"><span class="toc-text">io.nuls.contract.sdk.Address</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Block"><span class="toc-text">io.nuls.contract.sdk.Block</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-BlockHeader"><span class="toc-text">io.nuls.contract.sdk.BlockHeader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Contract"><span class="toc-text">io.nuls.contract.sdk.Contract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Event"><span class="toc-text">io.nuls.contract.sdk.Event</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Msg"><span class="toc-text">io.nuls.contract.sdk.Msg</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-Utils"><span class="toc-text">io.nuls.contract.sdk.Utils</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-annotation-Payable"><span class="toc-text">io.nuls.contract.sdk.annotation.Payable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-annotation-Required"><span class="toc-text">io.nuls.contract.sdk.annotation.Required</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-nuls-contract-sdk-annotation-View"><span class="toc-text">io.nuls.contract.sdk.annotation.View</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Main-RPC-interface-of-smart-contract"><span class="toc-text">6. Main RPC interface of smart contract</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-Create-smart-contract"><span class="toc-text">6.1 Create smart contract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-Estimate-the-gas-consumption-for-creating-smart-contract"><span class="toc-text">6.2 Estimate the gas consumption for creating smart contract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-Call-smart-contract"><span class="toc-text">6.3 Call smart contract</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-Estimate-the-gas-consumption-for-calling-smart-contract-see-Swagger-UI"><span class="toc-text">6.4 Estimate the gas consumption for calling smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-Estimate-the-price-for-calling-smart-contract-see-Swagger-UI"><span class="toc-text">6.5 Estimate the price for calling smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-Terminate-smart-contract-see-Swagger-UI"><span class="toc-text">6.6 Terminate smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-7-Call-the-smart-contract-function-which-is-not-linked-to-blockchain-see-Swagger-UI"><span class="toc-text">6.7 Call the smart contract function which is not linked to blockchain (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-8-Get-the-implementation-results-of-smart-contract-see-Swagger-UI"><span class="toc-text">6.8 Get the implementation results of smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-Get-the-basic-information-of-smart-contract-see-Swagger-UI"><span class="toc-text">6.9 Get the basic information of smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-Verify-if-it-is-contract-address-see-Swagger-UI"><span class="toc-text">6.10 Verify if it is contract address (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-11-Get-the-NULS-balance-of-smart-contract-address-see-Swagger-UI"><span class="toc-text">6.11 Get the NULS balance of smart contract address (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-12-Get-the-transaction-details-of-smart-contract-see-Swagger-UI"><span class="toc-text">6.12 Get the transaction details of smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-13-Get-the-transaction-list-of-smart-contract-see-Swagger-UI"><span class="toc-text">6.13 Get the transaction list of smart contract (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-14-Inquire-contract-UTXO-as-per-address-and-limit-see-Swagger-UI"><span class="toc-text">6.14 Inquire contract UTXO as per address and limit (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-15-Inquire-contract-UTXO-as-per-address-and-amount-see-Swagger-UI"><span class="toc-text">6.15 Inquire contract UTXO as per address and amount (see Swagger UI)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-16-Transfer-amount-to-smart-contract-see-Swagger-UI"><span class="toc-text">6.16 Transfer amount to smart contract (see Swagger UI)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Example"><span class="toc-text">7. Example</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-Voting-smart-contract-code-segments-are-as-follows"><span class="toc-text">7.1 Voting smart contract code segments are as follows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Standard-Token-Smart-contract-code-segments"><span class="toc-text">7.2 Standard Token Smart contract code segments</span></a></li></ol></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link current">Development Manual</a><a href="NRC-20_Token_Standard.html" class="sidebar-link">NRC-20</a><a href="IdeaPlugin.html" class="sidebar-link">IDEA Plugin Manual</a><a href="CommunityVote.html" class="sidebar-link">Guide to Community Voting</a><a href="smartContract.html" class="sidebar-link">Smart Contract Manual</a><a href="SmartContractFee.html" class="sidebar-link">Smart Contract Fee</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <div class="footer-index" id="footer">
   <div class="footer-index-inner">
      <div class="footer-left">
         <div>© 2018 <a href="https://nuls.io" target="_blank">Nuls</a></div>
         <div>Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a></div>
         <div>Power by <a href="https://hexo.io" target="_blank">HEXO</a></div>
      </div>
      <div class="footer-middle">
        <div>
          <a href="https://twitter.com/nulsservice" target="_blank"><i class="footer-icon1"></i></a>
        </div>
        <div>
         <a href="https://www.reddit.com/r/nulsservice/" target="_blank"><i class="footer-icon2"></i></a>
        </div>
        <div>
          <a href="https://t.me/Nulsio" target="_blank"><i class="footer-icon3"></i></a>
        </div>
        <div>
           <a href="https://steemit.com/@nuls" target="_blank"><i class="footer-icon4"></i></a>
        </div>
        <div>
          <a href="https://github.com/nuls-io/nuls" target="_blank"><i class="footer-icon5"></i></a>
        </div>
        <div>
          <a href="https://www.facebook.com/nulscommunity/" target="_blank"><i class="footer-icon6"></i></a>
        </div>
        <div>
          <a href="https://join.slack.com/t/nuls/shared_invite/enQtMjQ4MTM4ODAyNTI4LWJjNGMwYTE0YjRlYmFlZGUwM2JhOGE4MDIwZmE4MzA2MDg1YzUyMmVkN2RhZjkyNWMzZjY5ZDU5ZmViMjZjNGQ" target="_blank"><i class="footer-icon7"></i></a>
        </div>
        <div>
          <a href="https://gitter.im/nuls_io" target="_blank"><i class="footer-icon8"></i></a>
        </div>
      </div>
   </div>
</div>
  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/docs/" class="mobile-nav-link">Documents</a><a href="/protocol/" class="mobile-nav-link">Protocol</a><a href="/contract/" class="mobile-nav-link">Smart Contract</a><a href="/chain/" class="mobile-nav-link">Cross-Chain</a><a href="/manual/" class="mobile-nav-link">Manual</a><a href="/news/" class="mobile-nav-link">News</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/nuls-io/nuls" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link current">Development Manual</a><a href="NRC-20_Token_Standard.html" class="mobile-nav-link">NRC-20</a><a href="IdeaPlugin.html" class="mobile-nav-link">IDEA Plugin Manual</a><a href="CommunityVote.html" class="mobile-nav-link">Guide to Community Voting</a><a href="smartContract.html" class="mobile-nav-link">Smart Contract Manual</a><a href="SmartContractFee.html" class="mobile-nav-link">Smart Contract Fee</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="contract/index.html">
      
        <option value="en" selected>English</option>
      
        <option value="zh-cn">简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<script src="/js/common.js"></script>
<!-- endbuild -->

</body>
</html>